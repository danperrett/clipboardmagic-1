adminutmc.tbltransportlinkdefinition

with def as 
                ( select SystemCodeNumber, ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference, 
                ( select max( lastupdated ) from adminutmc.tl_anpr_dynamic 
                where systemcodenumber = a.systemcodenumber ) as lastupdated 
                from adminutmc.tbltransportlinkdefinition a 
                where a.deletiondate is null 
                and a.datasource_typeid = 3 and ( (select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) is null 
                or (a.regionid = (select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user))))  ) select case (select nvl(regionid, '[]') from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) 
                when '[]' then def.systemcodenumber else region.regionalisescn(def.systemcodenumber) end as systemcodenumber, 
                ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference, LastUpdated, 
                cast( ( select linktraveltime from adminutmc.tl_anpr_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.lastupdated ) 
                as number(10) ) as LinkTravelTime from def

cast( ( select linktraveltime from adminutmc.tl_anpr_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.lastupdated ) 
                as number(10) ) as LinkTravelTime from def


 private void GetDBQueryString(string scn = "")
        {
            // check if m_sqlQuery string is already created
            if (m_sqlQuery != null)
            {
                return;
            }

            StringBuilder sql = new StringBuilder("");
            sql.Append(@"with def as 
                ( select SystemCodeNumber, ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference, 
                ( select max( lastupdated ) from adminutmc.tl_anpr_dynamic 
                where systemcodenumber = a.systemcodenumber ) as lastupdated 
                from adminutmc.tbltransportlinkdefinition a 
                where a.deletiondate is null 
                and a.datasource_typeid = ");
            sql.Append(m_datasourceTypeID);
            sql.Append(@" and ( (select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) is null 
                or (a.regionid = (select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)))) ");

            if (scn.Length != 0)
            {
                string xscn = EscapeSqlString(scn, BaseManager.EscapeSize.SCN_NAME);
                sql.Append(@" and a.systemcodenumber= 
                    case (select nvl(regionid, '[]') from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) 
                        when '[]' then '");
                sql.Append(xscn);
                sql.Append(@"else region.globalisescn('");
                sql.Append(xscn);
                sql.Append(@"', (select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) ) end)  ");
            }

            sql.Append(@" ) select case (select nvl(regionid, '[]') from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) 
                when '[]' then def.systemcodenumber else region.regionalisescn(def.systemcodenumber) end as systemcodenumber, 
                ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference, LastUpdated, 
                cast( ( select linktraveltime from adminutmc.tl_anpr_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.lastupdated ) 
                as number(10) ) as LinkTravelTime from def");


            m_sqlQuery = sql.ToString();
        }

adminutmc

 select * from adminutmc.tl_anpr_dynamic;              
               
 with def as 
                ( 
                select SystemCodeNumber, ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference, 
                ( select max( lastupdated ) from adminutmc.tl_anpr_dynamic 
                where systemcodenumber = a.systemcodenumber ) as lastupdated 
                from tl_definition a 
                where a.deletiondate is null 
                and a.datasource_typeid = 3)  
                select systemcodenumber, ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference, LastUpdated, 
                cast( ( select linktraveltime from adminutmc.tl_anpr_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.lastupdated ) 
                as number(10) ) as LinkTravelTime from def
;

select max( lastupdated ) from adminutmc.tl_anpr_dynamic 
                where systemcodenumber = a.systemcodenumber ) as lastupdated 
                from tl_definition a 
                where a.deletiondate is null 
                and a.datasource_typeid = 3

with definition as 
(
    select SystemCodeNumber, ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference, 
                ( select max( lastupdated ) from tl_anpr_dynamic
                  where systemcodenumber = a.systemcodenumber ) as maxLastupdated
    from tl_definition a
    where deletiondate is null
    and datasource_typeid = 3
)
select
    def.SystemCodeNumber as SystemCodeNumber, ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference,
    dyn.lastupdated as lastupdated, dyn.linktraveltime as linktraveltime
from definition def, tl_anpr_dynamic dyn
where def.systemcodenumber = dyn.systemcodenumber
and dyn.lastupdated = maxLastupdated
;


    select SystemCodeNumber, ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference, 
                ( select max( lastupdated ) from tl_anpr_dynamic
                  where systemcodenumber = a.systemcodenumber ) as maxLastupdated
    from tl_definition a
    where deletiondate is null
    and datasource_typeid = 3



with definition as 
(
    select SystemCodeNumber, ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference, 
                ( select max( lastupdated ) from tl_anpr_dynamic
                  where systemcodenumber = a.systemcodenumber ) as maxLastupdated
    from tl_definition a
    where deletiondate is null
    and datasource_typeid = 3
)
select
    def.SystemCodeNumber as SystemCodeNumber, ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference,
    dyn.lastupdated as lastupdated, dyn.linktraveltime as linktraveltime
from definition def, tl_anpr_dynamic dyn
where def.systemcodenumber = dyn.systemcodenumber
and dyn.lastupdated = maxLastupdated
;


select
    def.SystemCodeNumber as SystemCodeNumber, ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference,
    dyn.lastupdated as lastupdated, dyn.linktraveltime as linktraveltime
from tl_definition def, tl_anpr_dynamic dyn
where def.deletiondate is null
and def.datasource_typeid = 3
and def.systemcodenumber = dyn.systemcodenumber
and dyn.lastupdated = ( select max( lastupdated ) from tl_anpr_dynamic where systemcodenumber = def.systemcodenumber )
;


 max(lastupdated) 

from tl_anpr_dynamic

systemcodenumber

select count(*) from tl_anpr_dynamic;


norovirus

GetDBQueryString

with def as 
                ( select SystemCodeNumber, ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference, 
                ( select max( lastupdated ) from adminutmc.tl_anpr_dynamic 
                where systemcodenumber = a.systemcodenumber ) as lastupdated 
                from adminutmc.tbltransportlinkdefinition a 
                where a.deletiondate is null 
                and a.datasource_typeid = 3 and ( (select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) is null 
                or (a.regionid = (select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user))))  ) select case (select nvl(regionid, '[]') from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) 
                when '[]' then def.systemcodenumber else region.regionalisescn(def.systemcodenumber) end as systemcodenumber, 
                ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference, LastUpdated, 
                cast( ( select linktraveltime from adminutmc.tl_anpr_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.lastupdated ) 
                as number(10) ) as LinkTravelTime from def

with def as 
                ( select SystemCodeNumber, ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference, 
                ( select max( lastupdated ) from adminutmc.tl_anpr_dynamic 
                where systemcodenumber = a.systemcodenumber ) as lastupdated 
                from adminutmc.tbltransportlinkdefinition a 
                where a.deletiondate is null 
                and a.datasource_typeid = 3 and ( (select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) is null 
                or (a.regionid = (select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user))))  ) select case (select nvl(regionid, '[]') from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) 
                when '[]' then def.systemcodenumber else region.regionalisescn(def.systemcodenumber) end as systemcodenumber, 
                ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference, LastUpdated, 
                cast( ( select linktraveltime from adminutmc.tl_anpr_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.lastupdated ) 
                as number(10) ) as LinkTravelTime from def;

select
    systemCodeNumber as SystemCodeNumber, ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference
from tl_definition def
where def.deletiondate is null
and def.datasource_typeid = 3
;

select systemCodeNumber as SystemCodeNumber, ShortDescription, LongDescription, TypeID, DataSource_TypeID, Northing, Easting, NorthingEnd, EastingEnd, NetworkPathReference from tl_definition def where def.deletiondate is null and def.datasource_typeid = 3;

GetDBQueryString

with def as
                ( select systemcodenumber, shortdescription, longdescription, typeid, datasource_typeid, northing, easting,
                ( select max( lastupdated ) from flow_dynamic
                where systemcodenumber = a.systemcodenumber ) as flowLastUpdated,
                ( select max( lastupdated ) from occupancy_dynamic
                where systemcodenumber = a.systemcodenumber ) as occupancyLastUpdated,
                ( select max( lastupdated ) from speed_dynamic
                where systemcodenumber = a.systemcodenumber ) as speedLastUpdated
                from detector_definition a where a.datasource_typeid=3 and a.deletiondate is null and  
                when '[]' then def.systemcodenumber else region.regionalisescn(def.systemcodenumber) end as systemcodenumber, 
                shortdescription, longdescription, typeid, datasource_typeid, northing, easting, flowLastUpdated, 
                cast ( ( select totalflow from flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as totalflow, 
                cast ( ( select Class1Count from flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class1Count, 
                cast ( ( select Class2Count from flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class2Count, 
                cast ( ( select Class3Count from flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class3Count, 
                cast ( ( select Class4Count from flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class4Count, 
                speedLastUpdated,
                ( select speed from speed_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.speedLastUpdated ) as speed, 
                occupancyLastUpdated,
                ( select occupancy from occupancy_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.occupancyLastUpdated ) as occupancy
                from def

     StringBuilder sql = new StringBuilder("");
            sql.Append(@"with def as
                ( select systemcodenumber, shortdescription, longdescription, typeid, datasource_typeid, northing, easting,
                ( select max( lastupdated ) from adminutmc.flow_dynamic
                where systemcodenumber = a.systemcodenumber ) as flowLastUpdated,
                ( select max( lastupdated ) from adminutmc.occupancy_dynamic
                where systemcodenumber = a.systemcodenumber ) as occupancyLastUpdated,
                ( select max( lastupdated ) from adminutmc.speed_dynamic
                where systemcodenumber = a.systemcodenumber ) as speedLastUpdated
                from adminutmc.tbldetectordefinition a where a.datasource_typeid=");
            sql.Append(m_datasourceTypeID);

            if (scn.Length != 0)
            {
                string xscn = EscapeSqlString(scn, BaseManager.EscapeSize.SCN_NAME);
                sql.Append(@" and a.systemcodenumber= 
                    case (select nvl(regionid, '[]') from adminutmc.tbluserdefinition 
                    where lower(systemcodenumber) = lower(user)) when '[]' then '");
                sql.Append(xscn);
                sql.Append(@"' else region.globalisescn('");
                sql.Append(xscn);
                sql.Append(@"', (select regionid from adminutmc.tbluserdefinition 
                    where lower(systemcodenumber) = lower(user)) ) end ");
            }

            sql.Append(@" and a.deletiondate is null and (
                (select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) is null or
                (a.regionid = (select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user))) ) )
                select case (select nvl(regionid, '[]') from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) 
                when '[]' then def.systemcodenumber else region.regionalisescn(def.systemcodenumber) end as systemcodenumber, 
                shortdescription, longdescription, typeid, datasource_typeid, northing, easting, flowLastUpdated, 
                cast ( ( select totalflow from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as totalflow, 
                cast ( ( select Class1Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class1Count, 
                cast ( ( select Class2Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class2Count, 
                cast ( ( select Class3Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class3Count, 
                cast ( ( select Class4Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class4Count, 
                speedLastUpdated,
                ( select speed from adminutmc.speed_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.speedLastUpdated ) as speed, 
                occupancyLastUpdated,
                ( select occupancy from adminutmc.occupancy_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.occupancyLastUpdated ) as occupancy
                from def");


\\10.164.114.30\daniel.perrett\development\datexIIadapter\datexiipushadapter\SubscriberService\SubscriberWebService\bin\SubscriberWebService.dll

DatexIIAdapter_20161103

\\10.164.114.30\daniel.perrett\development\datexIIadapter\datexiipushadapter\SubscriberService\SubscriberWebService\bin\SubscriberWebService.dll

108609

syits_datex02

TL_ANPR_DYNAMIC

30071670

6975

select * from tl_definition where longdescription like '%Shape for Network Link%';

adminutmc

log.Info("Check that the definition exist: " + item.m_scn);

select * from tl_definition where longdescription like '%Shape for Network Link%' and systemcodenumber like '%300%';

Shape for Network Link

select * from tl_anpr_dynamic where systemcodenumber in (select systemcodenumber from tl_definition where longdescription like 'Shape%')

 XmlSerializer xmlSerializer = new XmlSerializer(toSerialize.GetType());

putDatex2DataRequest

 using(StringWriter textWriter = new StringWriter())
    {

xmlSerializer.Serialize(textWriter, toSerialize);

 using (StreamWriter sw = File.CreateText(path)) 
            {

C:\Temp\DatexR2

AppendText

sw.WriteLine

sw.WriteLine("*********************************************************************************************");

sw.WriteLine("NEW *********************************************************************************************");

\\10.164.114.30\daniel.perrett\development\datexIIadapter\datexiipushadapter\SubscriberService\SubscriberWebService\bin\SubscriberWebService.dll

putDatex2DataRequest request

XmlSerializer xmlSerializer = new XmlSerializer(typeof(putDatex2DataRequest));
            using (StringWriter textWriter = new StringWriter())
            {
                xmlSerializer.Serialize(textWriter, request);
                using (StreamWriter sw = File.AppendText(@"C:\Temp\DatexR2\input.dump"))
                {
                    sw.WriteLine("Input *********************************************************************************************");
                    sw.WriteLine(textWriter.ToString());
                    sw.WriteLine("End *********************************************************************************************");
                }
            }

filename

writeInputDupToFile

C:\Temp\DatexR2

if ((dumpinput & 0x1) == 1)
                        {
                            writeInputDupToFile(request, @"C:\Temp\DatexR2\ANPRInput.dump");
                        }

if ((dumpinput & 0x2) == 1)
                        {
                            writeInputDupToFile(request, @"C:\Temp\DatexR2\MIDASInput.dump");
                        }

if ((dumpinput & 0x4) == 1)
                        {
                            writeInputDupToFile(request, @"C:\Temp\DatexR2\TMUInput.dump");
                        }

if ((dumpinput & 0x16) == 1)
                        {
                            writeInputDupToFile(request, @"C:\Temp\DatexR2\FusedFVDandSensorPTDInput.dump");
                        }

 if (dumpinput == 5)
                        {
                            writeInputDupToFile(request, @"C:\Temp\DatexR2\FusedFVDandSensorPTDInput.dump");
                        }

ConfigurationManager.AppSettings

dumpinput

InputDataDump

traceSOAP

InputDataDump

\\10.164.114.30\daniel.perrett\development\datexIIadapter\datexiipushadapter\SubscriberService\SubscriberWebService\bin\SubscriberWebService.dll

 <add key="InputDataDump" value="1"/>

with def as
                ( select systemcodenumber, ShortDescription, TypeId, DataSource_TypeID, Easting, Northing,
                ( select max( lastupdated ) from adminutmc.vms_dynamic where systemcodenumber = a.systemcodenumber ) as lastupdated,
                ( select max( configurationdate ) from adminutmc.vms_configuration where systemcodenumber = a.systemcodenumber ) 
                as configurationdate from adminutmc.tblvmsdefinition a
                where a.deletiondate is null
                and a.datasource_typeid=3 and a.typeid in ( 4, 5, 6, 8  ) and ((select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) is null
                or (a.regionid = (select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user))))  ) select case (select nvl(regionid, '[]') from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) 
                when '[]' then def.systemcodenumber else region.regionalisescn(def.systemcodenumber) 
                end as systemcodenumber, ShortDescription, TypeId, DataSource_TypeID, Easting, Northing, 
                cast ( ( select Width from adminutmc.vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as number(10) ) as Width, 
                cast ( ( select Height from adminutmc.vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as number(10) ) as Height, 
                ( select Delimiter from adminutmc.vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as Delimiter, 
                ( select MsgTxt from adminutmc.vms_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.lastupdated ) as MsgTxt, LastUpdated 
                from def

with def as
                ( select systemcodenumber, ShortDescription, TypeId, DataSource_TypeID, Easting, Northing,
                ( select max( lastupdated ) from vms_dynamic where systemcodenumber = a.systemcodenumber ) as lastupdated,
                ( select max( configurationdate ) from vms_configuration where systemcodenumber = a.systemcodenumber ) 
                as configurationdate from adminutmc.vms_definition a
                where a.deletiondate is null
                and a.datasource_typeid=3 and a.typeid in ( 4, 5, 6, 8  ) ) select systemcodenumber, ShortDescription, TypeId, DataSource_TypeID, Easting, Northing, 
                cast ( ( select Width from vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as number(10) ) as Width, 
                cast ( ( select Height from vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as number(10) ) as Height, 
                ( select Delimiter from vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as Delimiter, 
                ( select MsgTxt from vms_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.lastupdated ) as MsgTxt, LastUpdated 
                from def;

with def as
                ( select systemcodenumber, ShortDescription, TypeId, DataSource_TypeID, Easting, Northing,
                ( select max( lastupdated ) from adminutmc.vms_dynamic where systemcodenumber = a.systemcodenumber ) as lastupdated,
                ( select max( configurationdate ) from adminutmc.vms_configuration where systemcodenumber = a.systemcodenumber ) 
                as configurationdate from adminutmc.tblvmsdefinition a
                where a.deletiondate is null
                and a.datasource_typeid=3 and a.typeid in ( 4, 5, 6, 8  ) and ((select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) is null
                or (a.regionid = (select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user))))  ) select case (select nvl(regionid, '[]') from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) 
                when '[]' then def.systemcodenumber else region.regionalisescn(def.systemcodenumber) 
                end as systemcodenumber, ShortDescription, TypeId, DataSource_TypeID, Easting, Northing, 
                cast ( ( select Width from adminutmc.vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as number(10) ) as Width, 
                cast ( ( select Height from adminutmc.vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as number(10) ) as Height, 
                ( select Delimiter from adminutmc.vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as Delimiter, 
                ( select MsgTxt from adminutmc.vms_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.lastupdated ) as MsgTxt, LastUpdated 
                from def

with def as
                ( select systemcodenumber, ShortDescription, TypeId, DataSource_TypeID, Easting, Northing,
                ( select max( lastupdated ) from adminutmc.vms_dynamic where systemcodenumber = a.systemcodenumber ) as lastupdated,
                ( select max( configurationdate ) from adminutmc.vms_configuration where systemcodenumber = a.systemcodenumber ) 
                as configurationdate from vms_definition a
                where a.deletiondate is null
                and a.datasource_typeid=3 and a.typeid in ( 4, 5, 6, 8  ) ) select systemcodenumber, ShortDescription, TypeId, DataSource_TypeID, Easting, Northing, 
                cast ( ( select Width from vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as number(10) ) as Width, 
                cast ( ( select Height from vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as number(10) ) as Height, 
                ( select Delimiter from vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as Delimiter, 
                ( select MsgTxt from vms_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.lastupdated ) as MsgTxt, LastUpdated 
                from def;

with def as
                ( select systemcodenumber, ShortDescription, TypeId, DataSource_TypeID, Easting, Northing,
                ( select max( lastupdated ) from adminutmc.vms_dynamic where systemcodenumber = a.systemcodenumber ) as lastupdated,
                ( select max( configurationdate ) from adminutmc.vms_configuration where systemcodenumber = a.systemcodenumber ) 
                as configurationdate from vms_definition a
                where a.deletiondate is null
                and a.datasource_typeid=3 and a.typeid in ( 4, 5, 6, 8  ) select systemcodenumber, ShortDescription, TypeId, DataSource_TypeID, Easting, Northing, 
                cast ( ( select Width from adminutmc.vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as number(10) ) as Width, 
                cast ( ( select Height from adminutmc.vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as number(10) ) as Height, 
                ( select Delimiter from adminutmc.vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as Delimiter, 
                ( select MsgTxt from adminutmc.vms_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.lastupdated ) as MsgTxt, LastUpdated 
                from def

with def as
                ( select systemcodenumber, ShortDescription, TypeId, DataSource_TypeID, Easting, Northing,
                ( select max( lastupdated ) from adminutmc.vms_dynamic where systemcodenumber = a.systemcodenumber ) as lastupdated,
                ( select max( configurationdate ) from adminutmc.vms_configuration where systemcodenumber = a.systemcodenumber ) 
                as configurationdate from vms_definition a
                where a.deletiondate is null
                and a.datasource_typeid=3 and a.typeid in ( 4, 5, 6, 8  ) ) select systemcodenumber, ShortDescription, TypeId, DataSource_TypeID, Easting, Northing, 
                cast ( ( select Width from vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as number(10) ) as Width, 
                cast ( ( select Height from vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as number(10) ) as Height, 
                ( select Delimiter from vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as Delimiter, 
                ( select MsgTxt from vms_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.lastupdated ) as MsgTxt, LastUpdated 
                from def;

with def as
                ( select systemcodenumber, ShortDescription, TypeId, DataSource_TypeID, Easting, Northing,
                ( select max( lastupdated ) from adminutmc.vms_dynamic where systemcodenumber = a.systemcodenumber ) as lastupdated,
                ( select max( configurationdate ) from adminutmc.vms_configuration where systemcodenumber = a.systemcodenumber ) 
                as configurationdate from vms_definition a
                where a.deletiondate is null
                and a.datasource_typeid=3 and a.typeid in ( 4, 5, 6, 8  ) select systemcodenumber, ShortDescription, TypeId, DataSource_TypeID, Easting, Northing, 
                cast ( ( select Width from adminutmc.vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as number(10) ) as Width, 
                cast ( ( select Height from adminutmc.vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as number(10) ) as Height, 
                ( select Delimiter from adminutmc.vms_configuration where systemcodenumber=def.systemcodenumber and configurationdate=def.configurationdate ) as Delimiter, 
                ( select MsgTxt from adminutmc.vms_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.lastupdated ) as MsgTxt, LastUpdated 
                from def

adminutmc.

with def as
                ( select systemcodenumber, shortdescription, longdescription, typeid, datasource_typeid, northing, easting,
                ( select max( lastupdated ) from adminutmc.flow_dynamic
                where systemcodenumber = a.systemcodenumber ) as flowLastUpdated,
                ( select max( lastupdated ) from adminutmc.occupancy_dynamic
                where systemcodenumber = a.systemcodenumber ) as occupancyLastUpdated,
                ( select max( lastupdated ) from adminutmc.speed_dynamic
                where systemcodenumber = a.systemcodenumber ) as speedLastUpdated
                from adminutmc.tbldetectordefinition a where a.datasource_typeid=3 and a.deletiondate is null and (
                (select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) is null or
                (a.regionid = (select regionid from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user))) ) )
                select case (select nvl(regionid, '[]') from adminutmc.tbluserdefinition where lower(systemcodenumber) = lower(user)) 
                when '[]' then def.systemcodenumber else region.regionalisescn(def.systemcodenumber) end as systemcodenumber, 
                shortdescription, longdescription, typeid, datasource_typeid, northing, easting, flowLastUpdated, 
                cast ( ( select totalflow from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as totalflow, 
                cast ( ( select Class1Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class1Count, 
                cast ( ( select Class2Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class2Count, 
                cast ( ( select Class3Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class3Count, 
                cast ( ( select Class4Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class4Count, 
                speedLastUpdated,
                ( select speed from adminutmc.speed_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.speedLastUpdated ) as speed, 
                occupancyLastUpdated,
                ( select occupancy from adminutmc.occupancy_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.occupancyLastUpdated ) as occupancy
                from def

18/20 Great Hollands Square
Bracknell
Berks
RG12 8UX

01344 488853

with def as
                ( select systemcodenumber, shortdescription, longdescription, typeid, datasource_typeid, northing, easting,
                ( select max( lastupdated ) from adminutmc.flow_dynamic
                where systemcodenumber = a.systemcodenumber ) as flowLastUpdated,
                ( select max( lastupdated ) from adminutmc.occupancy_dynamic
                where systemcodenumber = a.systemcodenumber ) as occupancyLastUpdated,
                ( select max( lastupdated ) from adminutmc.speed_dynamic
                where systemcodenumber = a.systemcodenumber ) as speedLastUpdated
                from detector_definition a where a.datasource_typeid=3 and a.deletiondate is null select systemcodenumber, 
                shortdescription, longdescription, typeid, datasource_typeid, northing, easting, flowLastUpdated, 
                cast ( ( select totalflow from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as totalflow, 
                cast ( ( select Class1Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class1Count, 
                cast ( ( select Class2Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class2Count, 
                cast ( ( select Class3Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class3Count, 
                cast ( ( select Class4Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class4Count, 
                speedLastUpdated,
                ( select speed from adminutmc.speed_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.speedLastUpdated ) as speed, 
                occupancyLastUpdated,
                ( select occupancy from adminutmc.occupancy_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.occupancyLastUpdated ) as occupancy
                from def

\\10.164.114.30\daniel.perrett\development\datexIIadapter\datexiipushadapter\SubscriberService\SubscriberWebService\bin\SubscriberWebService.dll

SubscriberService/SubscriberWebService/Core/AnprManager.cs

SubscriberService/SubscriberWebService/WebServiceSubscriber.svc.cs

with def as
                ( select systemcodenumber, shortdescription, longdescription, typeid, datasource_typeid, northing, easting,
                ( select max( lastupdated ) from adminutmc.flow_dynamic
                where systemcodenumber = a.systemcodenumber ) as flowLastUpdated,
                ( select max( lastupdated ) from adminutmc.occupancy_dynamic
                where systemcodenumber = a.systemcodenumber ) as occupancyLastUpdated,
                ( select max( lastupdated ) from adminutmc.speed_dynamic
                where systemcodenumber = a.systemcodenumber ) as speedLastUpdated
                from detector_definition a where a.datasource_typeid=3 and a.deletiondate is null) select systemcodenumber, 
                shortdescription, longdescription, typeid, datasource_typeid, northing, easting, flowLastUpdated, 
                cast ( ( select totalflow from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as totalflow, 
                cast ( ( select Class1Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class1Count, 
                cast ( ( select Class2Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class2Count, 
                cast ( ( select Class3Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class3Count, 
                cast ( ( select Class4Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class4Count, 
                speedLastUpdated,
                ( select speed from adminutmc.speed_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.speedLastUpdated ) as speed, 
                occupancyLastUpdated,
                ( select occupancy from adminutmc.occupancy_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.occupancyLastUpdated ) as occupancy
                from def;

NewFile.jsp

type filter text

/HelloWorldJSP/helloWorld.jsp

import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;


package com.vogella.web.filecounter.dao;


public class FileDao {

        public int getCount() {
                int count = 0;
                // Load the file with the counter
                FileReader fileReader = null;
                BufferedReader bufferedReader = null;
                PrintWriter writer = null;
                try {
                        File f = new File("FileCounter.initial");
                        if (!f.exists()) {
                                f.createNewFile();
                                writer = new PrintWriter(new FileWriter(f));
                                writer.println(0);
                        }
                        if (writer != null) {
                                writer.close();
                        }

                        fileReader = new FileReader(f);
                        bufferedReader = new BufferedReader(fileReader);
                        String initial = bufferedReader.readLine();
                        count = Integer.parseInt(initial);
                } catch (Exception ex) {
                        if (writer != null) {
                                writer.close();
                        }
                }
                if (bufferedReader != null) {
                        try {
                                bufferedReader.close();
                        } catch (IOException e) {
                                e.printStackTrace();
                        }
                }
                return count;
        }

        public void save(int count) throws Exception {
                FileWriter fileWriter = null;
                PrintWriter printWriter = null;
                fileWriter = new FileWriter("FileCounter.initial");
                printWriter = new PrintWriter(fileWriter);
                printWriter.println(count);

                // make sure to close the file
                if (printWriter != null) {
                        printWriter.close();
                }
        }
}

public class FileDao 
{

}

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import com.vogella.web.filecounter.dao.FileDao;


import java.io.IOException;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;


public class FileCounter extends HttpServlet {
        private static final long serialVersionUID = 1L;

        int count;
        private FileDao dao;

        @Override
        protected void doGet(HttpServletRequest request,
                        HttpServletResponse response) throws ServletException, IOException {
                // Set a cookie for the user, so that the counter does not increate
                // every time the user press refresh
                HttpSession session = request.getSession(true);
                // Set the session valid for 5 secs
                session.setMaxInactiveInterval(5);
                response.setContentType("text/plain");
                PrintWriter out = response.getWriter();
                if (session.isNew()) {
                        count++;
                }
                out.println("This site has been accessed " + count + " times.");
        }


        @Override
        public void init() throws ServletException {
                dao = new FileDao();
                try {
                        count = dao.getCount();
                } catch (Exception e) {
                        getServletContext().log("An exception occurred in FileCounter", e);
                        throw new ServletException("An exception occurred in FileCounter"
                                        + e.getMessage());
                }
        }

        public void destroy() {
                super.destroy();
                try {
                        dao.save(count);
                } catch (Exception e) {
                        e.printStackTrace();
                }
        }

}

public class FileCounter extends HttpServlet 
{
	private static final long serialVersionUID = 1L;
       
    /**
     * @see HttpServlet#HttpServlet()
     */
    public FileCounter() {
        super();
        // TODO Auto-generated constructor stub
    }

	/**
	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
	 */
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		// TODO Auto-generated method stub
		response.getWriter().append("Served at: ").append(request.getContextPath());
	}

	/**
	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
	 */
	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		// TODO Auto-generated method stub
		doGet(request, response);
	}

}

com.vogella.web.filecounter/FileCounter

type filter text

/src

import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;

public class FileDao {

        public int getCount() {
                int count = 0;
                // Load the file with the counter
                FileReader fileReader = null;
                BufferedReader bufferedReader = null;
                PrintWriter writer = null;
                try {
                        File f = new File("FileCounter.initial");
                        if (!f.exists()) {
                                f.createNewFile();
                                writer = new PrintWriter(new FileWriter(f));
                                writer.println(0);
                        }
                        if (writer != null) {
                                writer.close();
                        }

                        fileReader = new FileReader(f);
                        bufferedReader = new BufferedReader(fileReader);
                        String initial = bufferedReader.readLine();
                        count = Integer.parseInt(initial);
                } catch (Exception ex) {
                        if (writer != null) {
                                writer.close();
                        }
                }
                if (bufferedReader != null) {
                        try {
                                bufferedReader.close();
                        } catch (IOException e) {
                                e.printStackTrace();
                        }
                }
                return count;
        }

        public void save(int count) throws Exception {
                FileWriter fileWriter = null;
                PrintWriter printWriter = null;
                fileWriter = new FileWriter("FileCounter.initial");
                printWriter = new PrintWriter(fileWriter);
                printWriter.println(count);

                // make sure to close the file
                if (printWriter != null) {
                        printWriter.close();
                }
        }
}

public class FileDao {

}


e

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import com.vogella.web.filecounter.dao.FileDao;



import java.io.IOException;


public class FileCounter extends HttpServlet {
        private static final long serialVersionUID = 1L;

        int count;
        private FileDao dao;

        @Override
        protected void doGet(HttpServletRequest request,
                        HttpServletResponse response) throws ServletException, IOException {
                // Set a cookie for the user, so that the counter does not increate
                // every time the user press refresh
                HttpSession session = request.getSession(true);
                // Set the session valid for 5 secs
                session.setMaxInactiveInterval(5);
                response.setContentType("text/plain");
                PrintWriter out = response.getWriter();
                if (session.isNew()) {
                        count++;
                }
                out.println("This site has been accessed " + count + " times.");
        }


        @Override
        public void init() throws ServletException {
                dao = new FileDao();
                try {
                        count = dao.getCount();
                } catch (Exception e) {
                        getServletContext().log("An exception occurred in FileCounter", e);
                        throw new ServletException("An exception occurred in FileCounter"
                                        + e.getMessage());
                }
        }

        public void destroy() {
                super.destroy();
                try {
                        dao.save(count);
                } catch (Exception e) {
                        e.printStackTrace();
                }
        }

}


public class FileCounter extends HttpServlet {
	private static final long serialVersionUID = 1L;
       
    /**
     * @see HttpServlet#HttpServlet()
     */
    public FileCounter() {
        super();
        // TODO Auto-generated constructor stub
    }

	/**
	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
	 */
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		// TODO Auto-generated method stub
		response.getWriter().append("Served at: ").append(request.getContextPath());
	}

	/**
	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
	 */
	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		// TODO Auto-generated method stub
		doGet(request, response);
	}

}

/com.vogella.web.filecounter/FileCounter

C:\JourneyTimeAdapter

com.vogella.web.filecounter

/com.vogella.web.filecounter/FileCounter

<%@page  %>

 import= "helloPackage"

<%@ page  import= "helloPackage" %>


<body>

hello.GetSomeText();

 

http://localhost:8088/PictureStore/services/Picture.wsdl

http://localhost:5867/PictureStore/services/Picture

Couldn't find a matching Java operation for WSDD operation

/development/PictureSoap

Exception occurred during code generation for the WSDL  : java.lang.NoClassDefFoundError: org/apache/ws/commons/schema/XmlSchema

fualtID

equipmentID

value

0

JTMSDiagnosticsFeedPort

extends Thread

/usr/bin/synergys -f --no-tray --debug INFO --name ukdt0348 -c /tmp/qt_temp.Tw2290 --address :24800

Random rand = new Random((new Date()).getTime());
		if(FaultsRaised.size() == 0)
		{
			return "";
		}

FaultGenerator

clearviewFaultThread

   DiagnosticData getDiag()
    {
    	count++;
    	DiagnosticData data = new DiagnosticData();
    	UnsignedLong faultID = new UnsignedLong(count);
    	data.setFaultID(faultID);
    	FaultType fault = new FaultType("Hardware");
    	fault.fromString("Hardware");
    	//fault.fromValue("A Camera");
    	data.setFaultType(fault);
    	data.setFaultDescription("A Fault Has Happened");
    	EquipmentType eq = new EquipmentType("Camera");
    	
    	data.setEquipmentType(eq);
    	UnsignedInt eqID = new UnsignedInt();
    	data.setEquipmentID(eqID);
    	
    	data.setEquipmentSCN("X12DS");
    	Calendar ts = Calendar.getInstance();
    	data.setStartedTimestamp(ts);
    	
    	return data;
    }


;)

FaultGenerator

Calendar.getInstance();
	     data.setStarte

if(rand.nextInt(10) > 6)
				{

6

container.lastTimeStamp

   container.lastTimeStamp  = new Date();

obj

diagnosticDataLogin.getStartTimestamp();

start.getTime();

		

error

private Lock lock = new ReentrantLock();

14004

	private Lock lock = new ReentrantLock();


18945

	private Lock lock = new ReentrantLock();


18950

}

data

lock.unlock();

runn

???????

FaultInformationContainer

	faultGenerator.start();

getDiagnosticData

JTMSDiagnosticsFeedPort_address

"JTMSDiagnostics...eedPort_address"	http://localhost:8088/CAJTMSFaultDiagnostic/services/JTMSDiagnosticsFeedPort	


http://localhost:8088/CAJTMSFaultDiagnostic/services/JTMSDiagnosticsFeedPort

services/JTMSDiagnosticsFeedPort

sdsd

C:/imtech/CAFaultAdapter/config/JTMSDiagnosticsFeed.wsdl

http://CAJTMS.merseygateway.co.uk

http://localhost:8088/CAJTMSFaultDiagnosticClient/sampleJTMSDiagnosticsFeedPortTypeProxy/Input.jsp?method=13

http://localhost:5867/CAJTMSFaultDiagnostic/

http://CAJTMS.merseygateway.co.uk

http://CAJTMS.merseygateway.co.uk:8088/mockJTMSDiagnosticsFeedBinding

CAJTMSFaultDiagnostic/

http://localhost:8088/CAJTMSFaultDiagnostic/services/JTMSDiagnosticsFeedPort

Rajesh.Pattni@flir.com>; 

targetNamespace

@WebResult

http://www.urbandictionary.com/define.php?term=trumped

http://localhost:8088/CAJTMSFaultDiagnostic/service

http://www.urbandictionary.com/define.php?term=trumped

:5867

?wsdl

http://CAJTMS.merseygateway.co.uk:8088/mockJTMSDiagnosticsFeedBinding

cajtms.merseygateway.co.uk

select systemcodenumber, shortdescription, longdescription, typeid, datasource_typeid, northing, easting,
                ( select max( lastupdated ) from adminutmc.flow_dynamic

 select speed from adminutmc.speed_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.speedLastUpdated ) as speed, 
                occupancyLastUpdated,

detector_definition

ADMINUTMC.

with def as
                ( select systemcodenumber, shortdescription, longdescription, typeid, datasource_typeid, northing, easting,
                ( select max( lastupdated ) from adminutmc.flow_dynamic
                where systemcodenumber = a.systemcodenumber ) as flowLastUpdated,
                ( select max( lastupdated ) from ADMINUTMC.occupancy_dynamic
                where systemcodenumber = a.systemcodenumber ) as occupancyLastUpdated,
                ( select max( lastupdated ) from ADMINUTMC.speed_dynamic
                where systemcodenumber = a.systemcodenumber ) as speedLastUpdated
                from detector_definition a where a.datasource_typeid=3 and a.deletiondate is null) select systemcodenumber, 
                shortdescription, longdescription, typeid, datasource_typeid, northing, easting, flowLastUpdated, 
                cast ( ( select totalflow from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as totalflow, 
                cast ( ( select Class1Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class1Count, 
                cast ( ( select Class2Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class2Count, 
                cast ( ( select Class3Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class3Count, 
                cast ( ( select Class4Count from adminutmc.flow_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.flowLastUpdated ) as number(10) ) as Class4Count, 
                speedLastUpdated,
                ( select speed from adminutmc.speed_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.speedLastUpdated ) as speed, 
                occupancyLastUpdated,
                ( select occupancy from adminutmc.occupancy_dynamic where systemcodenumber=def.systemcodenumber and lastupdated=def.occupancyLastUpdated ) as occupancy
                from def;
                

 select * from adminutmc.detector_definition where  datasource_typeid=3;

select systemcodenumber, shortdescription, longdescription, typeid, datasource_typeid, northing, easting
from detector_definition a where datasource_typeid=3 and deletiondate is null


select systemcodenumber, shortdescription, longdescription, typeid, datasource_typeid, northing, easting from detector_definition a where datasource_typeid=3 and deletiondate is null

select systemcodenumber, shortdescription, longdescription, typeid, datasource_typeid, northing, easting from detector_definition a where datasource_typeid =

 and deletiondate is null

GetDBQueryString

